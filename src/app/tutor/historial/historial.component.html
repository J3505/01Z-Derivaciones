
<div class="min-h-screen p-4 md:py-20">
    <!-- Header -->
    <!-- <header class="mb-8">
        <div class="flex justify-between items-center">
            <div>
                <h1 class="text-2xl md:text-3xl font-bold text-gray-800">Historial de Derivaciones</h1>
                <p class="text-gray-600">Rol: Tutor</p>
            </div>
            <div class="flex items-center space-x-4">
                <div class="relative">
                    <input [(ngModel)]="searchTerm" type="text" placeholder="Buscar derivación..." 
                           class="pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                </div>
                <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center">
                    <i class="fas fa-filter mr-2"></i> Filtros
                </button>
            </div>
        </div>
    </header> -->

    <!-- Stats Cards -->
    

    <!-- Derivaciones List -->
    <div class="bg-white rounded-xl shadow-md overflow-hidden">
        <!-- Table Header -->
        <div class="grid grid-cols-12 bg-gray-100 p-4 font-semibold text-gray-700 hidden md:grid">
            <div class="col-span-2">Fecha</div>
            <div class="col-span-3">Estudiante</div>
            <div class="col-span-3">Motivo</div>
            <div class="col-span-2">Estado</div>
            <div class="col-span-2">Acciones</div>
        </div>

        <!-- Derivaciones Items -->
        <div id="derivaciones-list" class="divide-y divide-gray-200">
            <!-- Ejemplo de derivación respondida -->
            
            <div  class="derivacion-card fade-in p-4 hover:bg-gray-50 transition-all duration-200">
                <div class="grid grid-cols-1 md:grid-cols-12 gap-4 items-center">

                    <div class="md:col-span-2">
                        <p class="text-sm text-gray-500 md:hidden">Fecha</p>
                        <p>15/06/2023</p>
                    </div>

                    <div class="md:col-span-3">
                        <p class="text-sm text-gray-500 md:hidden">Estudiante</p>
                        <div class="flex items-center">
                            <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2">
                                <i class="fas fa-user text-blue-600 text-sm"></i>
                            </div>
                            <span>María González</span>
                        </div>
                    </div>

                    <div class="md:col-span-3">
                        <p class="text-sm text-gray-500 md:hidden">Motivo</p>
                        <p class="truncate">Inasistencia</p>
                    </div>
                    <div class="md:col-span-2">
                        <p class="text-sm text-gray-500 md:hidden">Estado</p>
                        <span class="status-badge bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm flex items-center w-fit">
                            <i class="fas fa-check-circle mr-1"></i> Respondido
                        </span>
                    </div>
                    <div class="md:col-span-2 flex space-x-2">
                        <button onclick="toggleDetails('detalle-1')" class="text-blue-600 hover:text-blue-800 p-1">
                            <i class="fas fa-eye"></i> <span class="hidden md:inline">Ver</span>
                        </button>
                        <button class="text-gray-600 hover:text-gray-800 p-1">
                            <i class="fas fa-download"></i> <span class="hidden md:inline">PDF</span>
                        </button>
                    </div>
                </div>
                
                <!-- Detalles expandibles -->
                <div id="detalle-1" class=" mt-4 pl-2 border-l-4 border-blue-200 bg-blue-50 p-4 rounded-r-lg">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-2">Detalles de la derivación</h4>
                            <p><span class="font-medium">Fecha derivación:</span> 15/06/2023 10:45</p>
                            <p><span class="font-medium">Curso:</span> Matemáticas Avanzadas</p>
                            <p><span class="font-medium">Motivo completo:</span> El estudiante presenta dificultades para comprender los conceptos del proyecto final, específicamente en la parte de derivadas parciales. Ha intentado resolver los ejercicios pero no logra avanzar.</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-2">Respuesta del tutor</h4>
                            <p><span class="font-medium">Fecha respuesta:</span> 16/06/2023 09:30</p>
                            <p><span class="font-medium">Respuesta:</span> Se coordinó una sesión de tutoría para el día 18/06 a las 15:00. Se recomienda revisar los ejercicios 5 a 8 de la guía práctica como preparación.</p>
                            <p><span class="font-medium">Seguimiento:</span> Programado para 25/06</p>
                        </div>
                    </div>
                </div>
            </div>
        

            <!-- Ejemplo de derivación pendiente -->
            <div class="derivacion-card fade-in p-4 hover:bg-gray-50 transition-all duration-200">
                <div class="grid grid-cols-1 md:grid-cols-12 gap-4 items-center">
                    <div class="md:col-span-2">
                        <p class="text-sm text-gray-500 md:hidden">Fecha</p>
                        <p>20/06/2023</p>
                    </div>
                    <div class="md:col-span-3">
                        <p class="text-sm text-gray-500 md:hidden">Estudiante</p>
                        <div class="flex items-center">
                            <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center mr-2">
                                <i class="fas fa-user text-purple-600 text-sm"></i>
                            </div>
                            <span>Carlos Méndez</span>
                        </div>
                    </div>
                    <div class="md:col-span-3">
                        <p class="text-sm text-gray-500 md:hidden">Motivo</p>
                        <p class="truncate">Problemas de asistencia por situación familiar</p>
                    </div>
                    <div class="md:col-span-2">
                        <p class="text-sm text-gray-500 md:hidden">Estado</p>
                        <span class="status-badge bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm flex items-center w-fit">
                            <i class="fas fa-clock mr-1"></i> Pendiente
                        </span>
                    </div>
                    <div class="md:col-span-2 flex space-x-2">
                        <button onclick="toggleDetails('detalle-2')" class="text-blue-600 hover:text-blue-800 p-1">
                            <i class="fas fa-eye"></i> <span class="hidden md:inline">Ver</span>
                        </button>
                        <button class="text-gray-600 hover:text-gray-800 p-1">
                            <i class="fas fa-edit"></i> <span class="hidden md:inline">Responder</span>
                        </button>
                    </div>
                </div>
                
                <!-- Detalles expandibles -->
                <div id="detalle-2" class="hidden mt-4 pl-2 border-l-4 border-yellow-200 bg-yellow-50 p-4 rounded-r-lg">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-2">Detalles de la derivación</h4>
                            <p><span class="font-medium">Fecha derivación:</span> 20/06/2023 14:20</p>
                            <p><span class="font-medium">Curso:</span> Historia Contemporánea</p>
                            <p><span class="font-medium">Motivo completo:</span> El estudiante ha faltado a 4 clases consecutivas debido a problemas familiares. Su madre está hospitalizada y debe cuidar a sus hermanos menores. Solicita flexibilidad en las entregas.</p>
                            <p><span class="font-medium">Urgencia:</span> <span class="text-red-500">Alta</span></p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-2">Acciones requeridas</h4>
                            <div class="mb-3">
                                <label class="block text-gray-700 mb-1">Respuesta:</label>
                                <textarea class="w-full border border-gray-300 rounded p-2" rows="3" placeholder="Escribe tu respuesta aquí..."></textarea>
                            </div>
                            <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">
                                <i class="fas fa-paper-plane mr-1"></i> Enviar respuesta
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ejemplo de derivación urgente -->
            <div class="derivacion-card fade-in p-4 hover:bg-gray-50 transition-all duration-200">
                <div class="grid grid-cols-1 md:grid-cols-12 gap-4 items-center">
                    <div class="md:col-span-2">
                        <p class="text-sm text-gray-500 md:hidden">Fecha</p>
                        <p>22/06/2023</p>
                    </div>
                    <div class="md:col-span-3">
                        <p class="text-sm text-gray-500 md:hidden">Estudiante</p>
                        <div class="flex items-center">
                            <div class="w-8 h-8 rounded-full bg-red-100 flex items-center justify-center mr-2">
                                <i class="fas fa-user text-red-600 text-sm"></i>
                            </div>
                            <span>Ana Rodríguez</span>
                        </div>
                    </div>
                    <div class="md:col-span-3">
                        <p class="text-sm text-gray-500 md:hidden">Motivo</p>
                        <p class="truncate">Segunda falta</p>
                    </div>
                    <div class="md:col-span-2">
                        <p class="text-sm text-gray-500 md:hidden">Estado</p>
                        <span class="status-badge bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm flex items-center w-fit">
                            <i class="fas fa-exclamation-triangle mr-1"></i> Urgente
                        </span>
                    </div>
                    <div class="md:col-span-2 flex space-x-2">
                        <button onclick="toggleDetails('detalle-3')" class="text-blue-600 hover:text-blue-800 p-1">
                            <i class="fas fa-eye"></i> <span class="hidden md:inline">Ver</span>
                        </button>
                        <button class="text-gray-600 hover:text-gray-800 p-1">
                            <i class="fas fa-edit"></i> <span class="hidden md:inline">Responder</span>
                        </button>
                    </div>
                </div>
                
                <!-- Detalles expandibles -->
                <div id="detalle-3" class=" mt-4 pl-2 border-l-4 border-red-200 bg-red-50 p-4 rounded-r-lg">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-2">Detalles de la derivación</h4>
                            <p><span class="font-medium">Fecha derivación:</span> 22/06/2023 16:05</p>
                            <p><span class="font-medium">Derivado por:</span> Psicóloga institucional</p>
                            <p><span class="font-medium">Motivo completo:</span> La estudiante presenta signos de depresión severa y ha expresado pensamientos autolesivos. Requiere intervención inmediata y seguimiento cercano.</p>
                            <p><span class="font-medium">Contacto emergencia:</span> 555-123456 (Madre)</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-2">Protocolo de acción</h4>
                            <ol class="list-decimal pl-5 space-y-1">
                                <li>Contactar inmediatamente al estudiante</li>
                                <li>Notificar al departamento de bienestar estudiantil</li>
                                <li>Coordinar con psicología para evaluación</li>
                                <li>Establecer plan de acompañamiento</li>
                            </ol>
                            <div class="mt-3">
                                <label class="block text-gray-700 mb-1">Acciones tomadas:</label>
                                <textarea class="w-full border border-gray-300 rounded p-2" rows="2" placeholder="Registra las acciones realizadas..."></textarea>
                            </div>
                            <button class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded mt-2">
                                <i class="fas fa-exclamation-triangle mr-1"></i> Marcar como atendido
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Paginación -->
    <div class="flex justify-between items-center mt-6">
        <div class="text-gray-600">
            Mostrando 1-3 de 24 derivaciones
        </div>
        <div class="flex space-x-1">
            <button class="px-3 py-1 border rounded text-gray-600 hover:bg-gray-100">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="px-3 py-1 border rounded bg-blue-600 text-white">1</button>
            <button class="px-3 py-1 border rounded text-gray-600 hover:bg-gray-100">2</button>
            <button class="px-3 py-1 border rounded text-gray-600 hover:bg-gray-100">3</button>
            <span class="px-3 py-1">...</span>
            <button class="px-3 py-1 border rounded text-gray-600 hover:bg-gray-100">8</button>
            <button class="px-3 py-1 border rounded text-gray-600 hover:bg-gray-100">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>
</div>